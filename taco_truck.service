[Unit]
Description=Control buttons, touchscreen and amp power, brightness, etc.
Documentation=man:systemd.service(5)

After=local-fs.target time-sync.target
Wants=time-sync.target

[Service]
Type=simple
WorkingDirectory=/home/dan/git/taco_hu
ExecStart=/usr/bin/python3 /home/dan/git/taco_hu/taco_truck.py
User=dan
Group=dan
Nice=5

KillSignal=SIGINT
TimeoutStopSec=10

SyslogIdentifier=taco_truck
StandardOutput=file:/home/dan/git/taco_hu/taco_service_stdout.log
StandardError=file:/home/dan/git/taco_hu/taco_service_stderr.log

# --- RELIABILITY ---
Restart=on-failure
RestartSec=2s
# Backoff protection: if it crashes repeatedly, avoid flapping forever.
# StartLimitIntervalSec=60
StartLimitBurst=10

[Install]
WantedBy=multi-user.target
